<div class="bg-box greeting">
  <h1 class="bg-box__title">
    Welcome to VMTV.
    <p class="bg-box__thin">Your Ultimate Destination for Movie Enthusiasts!</p>
  </h1>
</div>

<section class="media" *ngIf="popularMovies$ | async as movies">
  <h2 class="media__title">Popular movies</h2>

  <div class="media__slider" *ngIf="slides$ | async as slides">
    <app-slider
      [prevBtn]="slidePrevPopularMovie._elementRef"
      [nextBtn]="slideNextPopularMovie._elementRef"
      [slidesPerView]="slides"
      [gap]="16"
      [speed]="350"
      [slidesToScroll]="slides"
    >
      <app-slide *ngFor="let movie of movies.results">
        <app-media-card
          [imagePath]="movie.poster_path"
          [mediaType]="'movie'"
          [id]="movie.id"
          [title]="movie.title"
          [titleSize]="16"
          [textCut]="textCut"
        ></app-media-card>
      </app-slide>
    </app-slider>

    <button
      type="button"
      #slidePrevPopularMovie
      mat-mini-fab
      color="primary"
      class="media__slide-btn media__slide-btn--prev"
    >
      <mat-icon>navigate_next</mat-icon>
    </button>
    <button
      type="button"
      #slideNextPopularMovie
      mat-mini-fab
      color="primary"
      class="media__slide-btn media__slide-btn--next"
    >
      <mat-icon>navigate_next</mat-icon>
    </button>
  </div>
</section>

<section class="media" *ngIf="popularTVs$ | async as tvs">
  <h2 class="media__title">Popular TV Series</h2>

  <div class="media__slider" *ngIf="slides$ | async as slides">
    <app-slider
      [prevBtn]="slidePrevPopularTV._elementRef"
      [nextBtn]="slideNextPopularTV._elementRef"
      [slidesPerView]="slides"
      [gap]="16"
      [speed]="350"
      [slidesToScroll]="slides"
    >
      <app-slide *ngFor="let tv of tvs.results">
        <app-media-card
          [imagePath]="tv.poster_path"
          [mediaType]="'tv'"
          [id]="tv.id"
          [title]="tv.name"
          [titleSize]="16"
          [textCut]="textCut"
        ></app-media-card>
      </app-slide>
    </app-slider>

    <button
      type="button"
      #slidePrevPopularTV
      mat-mini-fab
      color="primary"
      class="media__slide-btn media__slide-btn--prev"
    >
      <mat-icon>navigate_next</mat-icon>
    </button>
    <button
      type="button"
      #slideNextPopularTV
      mat-mini-fab
      color="primary"
      class="media__slide-btn media__slide-btn--next"
    >
      <mat-icon>navigate_next</mat-icon>
    </button>
  </div>
</section>
<section class="media" *ngIf="popularPeople$ | async as people">
  <h2 class="media__title">Popular People</h2>

  <div class="media__slider" *ngIf="slides$ | async as slides">
    <app-slider
      [prevBtn]="slidePrevPopularPeople._elementRef"
      [nextBtn]="slideNextPopularPeople._elementRef"
      [slidesPerView]="slides"
      [gap]="16"
      [speed]="350"
      [slidesToScroll]="slides"
    >
      <app-slide *ngFor="let person of people.results">
        <app-media-card
          [imagePath]="person.profile_path"
          [mediaType]="'person'"
          [id]="person.id"
          [title]="person.name"
          [titleSize]="16"
          [textCut]="textCut"
        ></app-media-card>
      </app-slide>
    </app-slider>

    <button
      type="button"
      #slidePrevPopularPeople
      mat-mini-fab
      color="primary"
      class="media__slide-btn media__slide-btn--prev"
    >
      <mat-icon>navigate_next</mat-icon>
    </button>
    <button
      type="button"
      #slideNextPopularPeople
      mat-mini-fab
      color="primary"
      class="media__slide-btn media__slide-btn--next"
    >
      <mat-icon>navigate_next</mat-icon>
    </button>
  </div>
</section>

<div class="bg-box offer">
  <h2 class="bg-box__title">
    Explore new
    <a routerLink="/discover/movie" color="accent" class="bg-box__link"
      >movies</a
    >
    with user-friendly filters. <br />
    Don't forget about your favorite
    <a routerLink="/discover/tv" color="accent" class="bg-box__link"
      >tv series</a
    >!
  </h2>
</div>

<section class="media" *ngIf="nowPlayingMovies$ | async as movies">
  <h2 class="media__title">Now Playing Movies</h2>

  <div class="media__slider" *ngIf="slides$ | async as slides">
    <app-slider
      [prevBtn]="slidePrevNowPlayingMovies._elementRef"
      [nextBtn]="slideNextNowPlayingMovies._elementRef"
      [slidesPerView]="slides"
      [gap]="16"
      [speed]="350"
      [slidesToScroll]="slides"
    >
      <app-slide *ngFor="let movie of movies.results">
        <app-media-card
          [imagePath]="movie.poster_path"
          [mediaType]="'movie'"
          [id]="movie.id"
          [title]="movie.title"
          [titleSize]="16"
          [textCut]="textCut"
        ></app-media-card>
      </app-slide>
    </app-slider>

    <button
      type="button"
      #slidePrevNowPlayingMovies
      mat-mini-fab
      color="primary"
      class="media__slide-btn media__slide-btn--prev"
    >
      <mat-icon>navigate_next</mat-icon>
    </button>
    <button
      type="button"
      #slideNextNowPlayingMovies
      mat-mini-fab
      color="primary"
      class="media__slide-btn media__slide-btn--next"
    >
      <mat-icon>navigate_next</mat-icon>
    </button>
  </div>
</section>
<section class="media" *ngIf="topRatedMovies$ | async as movies">
  <h2 class="media__title">Top Rated Movies</h2>

  <div class="media__slider" *ngIf="slides$ | async as slides">
    <app-slider
      [prevBtn]="slidePrevTopRatedMovies._elementRef"
      [nextBtn]="slideNextTopRatedMovies._elementRef"
      [slidesPerView]="slides"
      [gap]="16"
      [speed]="350"
      [slidesToScroll]="slides"
    >
      <app-slide *ngFor="let movie of movies.results">
        <app-media-card
          [imagePath]="movie.poster_path"
          [mediaType]="'movie'"
          [id]="movie.id"
          [title]="movie.title"
          [titleSize]="16"
          [textCut]="textCut"
        ></app-media-card>
      </app-slide>
    </app-slider>

    <button
      type="button"
      #slidePrevTopRatedMovies
      mat-mini-fab
      color="primary"
      class="media__slide-btn media__slide-btn--prev"
    >
      <mat-icon>navigate_next</mat-icon>
    </button>
    <button
      type="button"
      #slideNextTopRatedMovies
      mat-mini-fab
      color="primary"
      class="media__slide-btn media__slide-btn--next"
    >
      <mat-icon>navigate_next</mat-icon>
    </button>
  </div>
</section>
<section class="media" *ngIf="onTheAirTVs$ | async as tvs">
  <h2 class="media__title">On The Air TV Series</h2>

  <div class="media__slider" *ngIf="slides$ | async as slides">
    <app-slider
      [prevBtn]="slidePrevOnTheAirTVs._elementRef"
      [nextBtn]="slideNextOnTheAirTVs._elementRef"
      [slidesPerView]="slides"
      [gap]="16"
      [speed]="350"
      [slidesToScroll]="slides"
    >
      <app-slide *ngFor="let tv of tvs.results">
        <app-media-card
          [imagePath]="tv.poster_path"
          [mediaType]="'tv'"
          [id]="tv.id"
          [title]="tv.name"
          [titleSize]="16"
          [textCut]="textCut"
        ></app-media-card>
      </app-slide>
    </app-slider>

    <button
      type="button"
      #slidePrevOnTheAirTVs
      mat-mini-fab
      color="primary"
      class="media__slide-btn media__slide-btn--prev"
    >
      <mat-icon>navigate_next</mat-icon>
    </button>
    <button
      type="button"
      #slideNextOnTheAirTVs
      mat-mini-fab
      color="primary"
      class="media__slide-btn media__slide-btn--next"
    >
      <mat-icon>navigate_next</mat-icon>
    </button>
  </div>
</section>
